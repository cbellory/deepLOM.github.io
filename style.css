body, html {
    height: 100%;
    margin: 0;
    padding: 0;
}

body {
    /* Установка сдержанного градиентного фона от темно-серого к мягкому фиолетовому и темно-красному */
    background: linear-gradient(135deg, #FFB6B9 10%, #FDE2E4 30%, #AACBEA 60%, #679BFF 90%);
    /* Гарантируем, что фон занимает полную доступную высоту */
    background-attachment: fixed;
    background-size: cover;
    color: var(--text-color);
}

/* Базовые темы */
.light-theme {
    --chart-text-color: #000000; /* Черный для текста графика */
    --chart-line-color: #004da0; /* Синий для линий графика */
    --chart-background-color: #ffffff; /* Белый для фона графика */
    --background-color: #BDBDBD; /* Средний серый для фона, универсальный и современный */
    --text-color: #212121; /* Очень темный серый (почти черный) для текста, высокий контраст */
    --container-background-color: #E0E0E0; /* Светло-серый для контейнеров, создает ощущение пространства */
    --button-background-color: #9E9E9E; /* Темно-серый для кнопок, профессиональный и стильный */
    --button-hover-background-color: #707070; /* Еще более темный серый для эффекта при наведении */
    --input-border-color: #A4A4A4; /* Серый для границ ввода, четкий и эстетичный */
    --overbought-line-color: rgb(191, 48, 48); /* Для линии Overbought */
    --oversold-line-color: rgb(46, 138, 33); /* Для линии Oversold */
    --legend-text-color: rgb(255, 159, 64); /* Для текста легенды */
}

.dark-theme {
    --chart-text-color: #ffffff; /* Белый для текста графика */
    --chart-line-color: #4CAF50; /* Зеленый для линий графика */
    --chart-background-color: #333333; /* Темно-серый для фона графика */
    --background-color: #2a2a2a; /* Очень темный серый для фона, глубокий и интенсивный */
    --text-color: #ffffff; /* Светло-серый для текста, отличный контраст с темным фоном */
    --container-background-color: #666161c0; /* Темно-серый для контейнеров, добавляет глубину */
    --button-background-color: #818181; /* Средне-серый для кнопок, сдержанный и элегантный */
    --button-hover-background-color: #757575; /* Более темный серый для эффекта при наведении */
    --input-border-color: #2c2a2a; /* Темный серый для границ ввода, отчетливый, но не резкий */
    --overbought-line-color: rgb(255, 99, 132); /* Для линии Overbought */
    --oversold-line-color: rgb(75, 192, 192); /* Для линии Oversold */
    --legend-text-color: rgb(255, 255, 255); /* Для текста легенды */
}

.neutral-theme {
    --chart-text-color: #666666; /* Средне-серый для текста графика */
    --chart-line-color: #FFD700; /* Золотой для линий графика */
    --chart-background-color: #e6e6e6; /* Светло-серый для фона графика */
    --background-color: #ffffff16; /* Светло-серый для фона, мягкий и спокойный */
    --text-color: #000000; /* Темно-серый для текста, хороший контраст с фоном */
    --container-background-color: #e2d8d864; /* Очень светлый серый для контейнеров, чистый и яркий */
    --button-background-color: #bdbdbd57; /* Средний серый для кнопок, умеренный и профессиональный */
    --button-hover-background-color: #ff0000; /* Красный для эффекта при наведении на кнопки */
    --input-border-color: #000000; /* Черный для границ ввода, ненавязчивый */
    --overbought-line-color: rgb(255, 165, 0); /* Для линии Overbought */
    --oversold-line-color: rgb(138, 43, 226); /* Для линии Oversold */
    --legend-text-color: rgb(128, 128, 128); /* Для текста легенды */
}


body {
    background-color: var(--background-color);
    color: var(--text-color);
}

.container {
    width: auto;
    margin: 20px auto;
    padding: 20px;
    background-color: var(--container-background-color);
    border-radius: 20px;
    transition: max-height 2s ease-in-out, opacity 2s ease; /* Обновленная анимация */
    overflow: hidden;
    opacity: 1; /* Контейнер полностью видим с самого начала */
    max-height: 200px; /* Начальная максимальная высота, достаточно большая, чтобы вместить начальное содержимое */
}

.container-expanding {
    transition: max-height 2s ease-in-out;
    max-height: 3000px; /* Пример максимально возможной высоты */
}

.buttons-container, .input-container {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
}

.crypto-button {
    padding: 10px 20px;
    background-color: var(--button-background-color);
    color: var(--text-color);
    border: none;
    cursor: pointer;
    transition: background-color 0.3s;
}

.crypto-button {
    padding: 10px 21px;
    background-color: var(--button-background-color);
    color: var(--text-color);
    border: none;
    cursor: pointer;
    transition: background-color 0.3s;
    border-radius: 5px; /* Добавляем закругленные углы кнопкам */
}

.crypto-recommendations {
    text-align: center;
    font-size: 18px;
    color: var(--text-color);
}

.macd-title {
    font-size: 20px; /* Устанавливает размер шрифта только для заголовков с классом macd-title */
}

.rsi-title {
    font-size: 20px; /* Устанавливает размер шрифта только для заголовков с классом macd-title */
}

.input-container input {
    padding: 10px;
    width: 300px;
    border: 1px solid var(--input-border-color);
    border-radius: 5px;
    color: var(--text-color);
    background-color: var(--background-color);
}

.input-container button {
    padding: 10px 20px;
    border: none;
    background-color: var(--button-background-color);
    color: var(--text-color);
    cursor: pointer;
    border-radius: 5px;
}

.input-container button:hover {
    background-color: var(--button-hover-background-color);
}

.main-wrapper {
    display: flex;
    flex-direction: column;
    min-height: 100vh; /* Минимальная высота всей видимой области */
}

.main-content {
    flex-grow: 1; /* Основной контент займет все оставшееся место */
    /* Дополнительные стили для .main-content */
}


.additional-charts-container {
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    margin-bottom: 20px;
}

/* .macd-container, .rsi-container {
    width: 100%; 
} */

h3 {
    text-align: center;
    color: var(--text-color);
}

/* Стилизация контейнера для графика */
.chart-container {
    width: 850px; /* или любая другая ширина, которая вам нужна */
    height: auto; /* или любая другая высота, которая вам нужна */
    margin: 10px 20px; /* Добавляет верхние и нижние отступы, а также сохраняет отступы по бокам */
    padding: 20px; /* Добавляет немного пространства вокруг графиков */
    background-color: rgba(255, 255, 255, 0.2); /* Полупрозрачный белый фон */
    border-radius: 15px; /* Скругленные углы */
    box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.2); /* Легкая тень для добавления глубины */
    transition: background-color 0.5s ease; /* Плавная анимация при смене фона */
}

.chart-container canvas {
    width: 100%; /* Устанавливает ширину холста равной ширине контейнера */
    height: auto; /* Высота холста подстраивается автоматически, сохраняя аспект */
}

#cryptoChart, #macdChartNew, #rsiChartNew {
    height: 250px; /* Устанавливает фиксированную высоту для холстов графиков */
}

/* Стилизация кнопок или других элементов управления графиком */
.button {
    padding: 10px 20px;
    background-color: #000000;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.button:hover {
    background-color: #047dff;
}

/* Дополнительные стилизации для легенды, подписей и т.д., если они выводятся через HTML/CSS */
.legend {
    text-align: center;
    margin-top: 20px;
}

.theme-switcher {
    padding: 5px; /* Уменьшенный размер */
    width: 80px; /* Новая установка ширины */
    height: 80px; /* Новая установка высоты */
    border: none;
    border-radius: 50%; /* Круглая форма */
    cursor: pointer;
    transition: background-color 0.3s;
    background-color: transparent; /* Прозрачный фон */
    outline: none;
    display: flex;
    align-items: center;
    justify-content: center;
}

.theme-switcher svg {
    fill: currentColor; /* Цвет иконки соответствует цвету текста кнопки */
    width: 40px; /* Новая установка ширины иконки */
    height: auto; /* Автоматическая высота сохранит пропорции иконки */
    transform: translateY(5px); /* Опускаем иконку немного ниже */
}

@media (max-width: 900px) {
    .sidebar, .timezones-container {
        display: none; /* Скрываем боковую панель и контейнеры временных зон на маленьких экранах */
    }

    .main-wrapper {
        flex-direction: column; /* Элементы теперь будут расположены вертикально */
        padding: 0;
    }

    .container {
        width: 100%; /* Контейнер теперь занимает всю доступную ширину */
        margin: 0 auto; /* Убираем отрицательные отступы и центрируем контейнер */
        padding: 10px 10px 10px 10px; /* Устанавливаем одинаковые внутренние отступы со всех сторон */
        border-radius: 10px; /* Подтверждаем закругленные углы контейнера */
        box-shadow: none; /* Подтверждаем отсутствие тени с контейнера */
        overflow: hidden; /* Подтверждаем скрытие содержимого, выходящего за пределы контейнера */
    }
    
    .buttons-container {
        gap: 0; /* Убираем промежуток между кнопками */
        flex-wrap: wrap; /* Добавляем возможность переноса кнопок на новую строку */
        justify-content: space-around; /* Распределяем кнопки равномерно в контейнере */
    }

    .input-container input {
        width: 80%; /* Уменьшаем ширину строки поиска */
        margin: 10px auto; /* Центрируем строку поиска и добавляем вертикальный отступ */
        padding: 10px; /* Можно настроить паддинг для лучшей визуализации и комфорта при вводе */
    }
    
    .crypto-button {
        width: calc(50% - 10px); /* Установка ширины кнопок, учитывая отступы */
        margin: 5px 5px; /* Небольшой вертикальный отступ для каждой кнопки */
    }

    .controls-container, .input-container {
        flex-direction: column; /* Элементы управления будут располагаться вертикально */
    }

    #cryptoInput {
        width: 80%; /* Уменьшаем ширину кнопок и поля ввода до 80% */
        margin: 10px auto; /* Центрируем и добавляем вертикальный отступ */
        padding: 12px 24px; /* Увеличиваем паддинг для кнопок */
        border-radius: 25px; /* Добавляем закругленные углы кнопкам */
    }

    .chart-container {
        width: calc(100% - 40px); /* Уменьшаем ширину контейнера графиков для учета паддинга */
        margin: 11px auto; /* Центрируем и добавляем отступы вокруг контейнера графиков */
        padding: 20px; /* Добавляем внутренние отступы контейнера графиков */
        background-color: var(--container-background-color); /* Используем цвет фона из темы */
        border-radius: 15px; /* Добавляем скругленные углы контейнера графиков */
    }

    .chart-container canvas {
        width: 100%; /* Канвас графика занимает всю ширину контейнера */
    }

    #cryptoChart, #macdChartNew, #rsiChartNew {
        margin-bottom: 20px; /* Добавляем нижний отступ для канвасов графиков */
    }

    .macd-title, .rsi-title {
        font-size: 16px; /* Уменьшаем размер шрифта для заголовков на мобильных устройствах */
    }
}